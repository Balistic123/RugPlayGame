var V=Object.defineProperty;var S=e=>{throw TypeError(e)};var j=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var i=(e,t,n)=>j(e,typeof t!="symbol"?t+"":t,n),x=(e,t,n)=>t.has(e)||S("Cannot "+n);var s=(e,t,n)=>(x(e,t,"read from private field"),n?n.call(e):t.get(e)),h=(e,t,n)=>t.has(e)?S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),O=(e,t,n,r)=>(x(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{am as B,an as _,ao as F,b,e as d,g as N,d as k,f as G,p as H,i as I,a as z,j as J}from"./Dc9Cd6uL.js";import{w as T,j as C,f as D,k as K}from"./DIGQk_Pb.js";import{o as y,c as U,a as P}from"./BiLdCT7w.js";import{a as Q}from"./aor5dgAF.js";import{i as X}from"./4JrI1xkN.js";var g,c;class Nt{constructor(t){h(this,g);h(this,c);O(this,g,t),O(this,c,Symbol(t))}get key(){return s(this,c)}exists(){return B(s(this,c))}get(){const t=_(s(this,c));if(t===void 0)throw new Error(`Context "${s(this,g)}" not found`);return t}getOr(t){const n=_(s(this,c));return n===void 0?t:n}set(t){return F(s(this,c),t)}}g=new WeakMap,c=new WeakMap;var l;class Y{constructor(t,n){h(this,l,b(void 0));n!==void 0&&d(s(this,l),n,!0),T(()=>t(),(r,o)=>{d(s(this,l),o,!0)})}get current(){return N(s(this,l))}}l=new WeakMap;const Z=1,$=9,tt=11;function M(e){return C(e)&&e.nodeType===Z&&typeof e.nodeName=="string"}function R(e){return C(e)&&e.nodeType===$}function et(e){var t;return C(e)&&((t=e.constructor)==null?void 0:t.name)==="VisualViewport"}function nt(e){return C(e)&&e.nodeType!==void 0}function L(e){return nt(e)&&e.nodeType===tt&&"host"in e}function gt(e,t){var r;if(!e||!t||!M(e)||!M(t))return!1;const n=(r=t.getRootNode)==null?void 0:r.call(t);if(e===t||e.contains(t))return!0;if(n&&L(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function rt(e){return R(e)?e:et(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function ot(e){var t;return L(e)?ot(e.host):R(e)?e.defaultView??window:M(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function ut(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}var w;class wt{constructor(t){i(this,"element");h(this,w,k(()=>this.element.current?this.element.current.getRootNode()??document:document));i(this,"getDocument",()=>rt(this.root));i(this,"getWindow",()=>this.getDocument().defaultView??window);i(this,"getActiveElement",()=>ut(this.root));i(this,"isActiveElement",t=>t===this.getActiveElement());i(this,"querySelector",t=>this.root?this.root.querySelector(t):null);i(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);i(this,"setTimeout",(t,n)=>this.getWindow().setTimeout(t,n));i(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=D.with(t):this.element=t}get root(){return N(s(this,w))}set root(t){d(s(this,w),t)}getElementById(t){return this.root.getElementById(t)}}w=new WeakMap;function it(e,t){const n=D(e);function r(u){return t[n.current][u]??n.current}return{state:n,dispatch:u=>{n.current=r(u)}}}function st(e,t){let n=b(G({})),r=b("none");const o=e.current?"mounted":"unmounted",u=new Y(()=>e.current),{state:a,dispatch:m}=it(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});T(()=>e.current,()=>{if(!t.current||!(e.current!==u.current))return;const v=N(r),p=A(t.current);e.current?m("MOUNT"):p==="none"||N(n).display==="none"?m("UNMOUNT"):m(u&&v!==p?"ANIMATION_OUT":"UNMOUNT")});function E(f){if(!t.current)return;const v=A(t.current),p=v.includes(f.animationName)||v==="none";f.target===t.current&&p&&m("ANIMATION_END")}function W(f){t.current&&f.target===t.current&&d(r,A(t.current),!0)}T(()=>a.current,()=>{if(!t.current)return;const f=A(t.current);d(r,a.current==="mounted"?f:"none",!0)}),T(()=>t.current,()=>{if(t.current)return d(n,getComputedStyle(t.current),!0),K(y(t.current,"animationstart",W),y(t.current,"animationcancel",E),y(t.current,"animationend",E))});const q=k(()=>["mounted","unmountSuspended"].includes(a.current));return{get current(){return N(q)}}}function A(e){return e&&getComputedStyle(e).animationName||"none"}function Et(e,t){H(t,!0);const n=st(D.with(()=>t.present),t.ref);var r=U(),o=I(r);{var u=a=>{var m=U(),E=I(m);Q(E,()=>t.presence??J,()=>({present:n})),P(a,m)};X(o,a=>{(t.forceMount||t.present||n.current)&&a(u)})}P(e,r),z()}function vt(e,t,n,r){const o=Array.isArray(t)?t:[t];return o.forEach(u=>e.addEventListener(u,n,r)),()=>{o.forEach(u=>e.removeEventListener(u,n,r))}}class pt{constructor(t,n={bubbles:!0,cancelable:!0}){i(this,"eventName");i(this,"options");this.eventName=t,this.options=n}createEvent(t){return new CustomEvent(this.eventName,{...this.options,detail:t})}dispatch(t,n){const r=this.createEvent(n);return t.dispatchEvent(r),r}listen(t,n,r){const o=u=>{n(u)};return y(t,this.eventName,o,r)}}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function At(e="bits"){return globalThis.bitsIdCounter.current++,`${e}-${globalThis.bitsIdCounter.current}`}export{Nt as C,wt as D,Et as P,rt as a,vt as b,it as c,Y as d,pt as e,gt as f,ot as g,At as u};
