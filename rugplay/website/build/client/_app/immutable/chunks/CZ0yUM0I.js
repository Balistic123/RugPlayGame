var gt=Object.defineProperty;var pt=Object.getPrototypeOf;var yt=Reflect.get;var Ke=r=>{throw TypeError(r)};var mt=(r,e,t)=>e in r?gt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var L=(r,e,t)=>mt(r,typeof e!="symbol"?e+"":e,t),Le=(r,e,t)=>e.has(r)||Ke("Cannot "+t);var o=(r,e,t)=>(Le(r,e,"read from private field"),t?t.call(r):e.get(r)),d=(r,e,t)=>e.has(r)?Ke("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),T=(r,e,t,n)=>(Le(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),M=(r,e,t)=>(Le(r,e,"access private method"),t);var Ve=(r,e,t)=>yt(pt(r),t,e);import{c as k,a as B,y as wt,z as Et,o as R,p as w}from"./BiLdCT7w.js";import{o as We,q as St,L as Tt,a_ as Ct,al as It,m as Ot,D as At,C as Ft,F as Lt,U as Dt,O as H,g as y,e as C,h as Y,P as xt,i as _,j as Q,p as $,a$ as Nt,a as ee,d as Ae,b as le,aZ as Pt,l as Rt}from"./Dc9Cd6uL.js";import{a as te}from"./aor5dgAF.js";import{i as kt}from"./4JrI1xkN.js";import{f as b,w as K,k as ne,u as Bt}from"./DIGQk_Pb.js";import{C as Ye,b as Je,D as Pe,u as Qe,a as $e,e as et,f as _t}from"./BBRRXwej.js";import{i as re}from"./D0Gox408.js";function Mt(r,e,t){We&&St();var n=r,i=Dt,a,s=Tt()?Ct:It;Ot(()=>{s(i,i=e())&&(a&&At(a),a=Ft(()=>t(n)))}),We&&(n=Lt)}var I,O,A,z,ce;const _e=class _e extends Map{constructor(t){super();d(this,z);d(this,I,new Map);d(this,O,H(0));d(this,A,H(0));if(t){for(var[n,i]of t)super.set(n,i);o(this,A).v=super.size}}has(t){var n=o(this,I),i=n.get(t);if(i===void 0){var a=super.get(t);if(a!==void 0)i=H(0),n.set(t,i);else return y(o(this,O)),!1}return y(i),!0}forEach(t,n){M(this,z,ce).call(this),super.forEach(t,n)}get(t){var n=o(this,I),i=n.get(t);if(i===void 0){var a=super.get(t);if(a!==void 0)i=H(0),n.set(t,i);else{y(o(this,O));return}}return y(i),super.get(t)}set(t,n){var f;var i=o(this,I),a=i.get(t),s=super.get(t),u=super.set(t,n),c=o(this,O);if(a===void 0)i.set(t,H(0)),C(o(this,A),super.size),re(c);else if(s!==n){re(a);var h=c.reactions===null?null:new Set(c.reactions),p=h===null||!((f=a.reactions)!=null&&f.every(S=>h.has(S)));p&&re(c)}return u}delete(t){var n=o(this,I),i=n.get(t),a=super.delete(t);return i!==void 0&&(n.delete(t),C(o(this,A),super.size),C(i,-1),re(o(this,O))),a}clear(){if(super.size!==0){super.clear();var t=o(this,I);C(o(this,A),0);for(var n of t.values())C(n,-1);re(o(this,O)),t.clear()}}keys(){return y(o(this,O)),super.keys()}values(){return M(this,z,ce).call(this),super.values()}entries(){return M(this,z,ce).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return y(o(this,A)),super.size}};I=new WeakMap,O=new WeakMap,A=new WeakMap,z=new WeakSet,ce=function(){y(o(this,O));var t=o(this,I);if(o(this,A).v!==t.size)for(var n of Ve(_e.prototype,this,"keys").call(this))t.has(n)||t.set(n,H(0));for(var[,i]of o(this,I))y(i)};let De=_e;function Ut(r){Y(()=>()=>{r()})}function Re(r,e){return setTimeout(e,r)}function ke(r){xt().then(r)}const Yr="ArrowDown",Jr="ArrowLeft",Qr="ArrowRight",$r="ArrowUp",en="End",tn="Enter",Kt="Escape",rn="Home",nn="PageDown",sn="PageUp",an=" ",Vt="Tab",Be=typeof document<"u",He=Wt();function Wt(){var r,e;return Be&&((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function xe(r){return r instanceof HTMLElement}function Ht(r){return r instanceof Element}function on(r){return r instanceof Element||r instanceof SVGElement}function un(r){return r.pointerType==="touch"}function cn(r){return r.matches(":focus-visible")}function ln(r){return r!==null}function zt(r){return r instanceof HTMLInputElement&&"select"in r}function qt(r,e){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function E(){}function jt(r,e){var t=k(),n=_(t);Mt(n,()=>e.children,i=>{var a=k(),s=_(a);te(s,()=>e.children??Q),B(i,a)}),B(r,t)}const Gt=new Ye("BitsConfig");function Zt(){const r=new Xt(null,{});return Gt.getOr(r).opts}class Xt{constructor(e,t){L(this,"opts");const n=Yt(e,t);this.opts={defaultPortalTo:n(i=>i.defaultPortalTo),defaultLocale:n(i=>i.defaultLocale)}}}function Yt(r,e){return t=>b.with(()=>{var a,s;const i=(a=t(e))==null?void 0:a.current;if(i!==void 0)return i;if(r!==null)return(s=t(r.opts))==null?void 0:s.current})}function Jt(r,e){return t=>{const n=Zt();return b.with(()=>{const i=t();if(i!==void 0)return i;const a=r(n).current;return a!==void 0?a:e})}}const Qt=Jt(r=>r.defaultPortalTo,"body");function fn(r,e){$(e,!0);const t=Qt(()=>e.to),n=Nt();let i=Ae(a);function a(){if(!Be||e.disabled)return null;let f=null;return typeof t.current=="string"?f=document.querySelector(t.current):f=t.current,f}let s;function u(){s&&(Et(s),s=null)}K([()=>y(i),()=>e.disabled],([f,S])=>{if(!f||S){u();return}return s=wt(jt,{target:f,props:{children:e.children},context:n}),()=>{u()}});var c=k(),h=_(c);{var p=f=>{var S=k(),W=_(S);te(W,()=>e.children??Q),B(f,S)};kt(h,f=>{e.disabled&&f(p)})}B(r,c),ee()}function ze(r,e=500){let t=null;const n=(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{r(...i)},e)};return n.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},n}function tt(r,e){return r===e||r.contains(e)}function rt(r){return(r==null?void 0:r.ownerDocument)??document}function $t(r,e){const{clientX:t,clientY:n}=r,i=e.getBoundingClientRect();return t<i.left||t>i.right||n<i.top||n>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var q,U,N,j,G,P,ie,F,be,J,nt,ge,Z,pe,ye,me,we,se,it,Ee,Se;class er{constructor(e){d(this,J);L(this,"opts");d(this,q);d(this,U);d(this,N,{pointerdown:!1});d(this,j,!1);d(this,G,!1);d(this,P);d(this,ie);d(this,F,E);d(this,be,e=>{e.defaultPrevented||this.opts.ref.current&&ke(()=>{var t,n;!this.opts.ref.current||o(this,we).call(this,e.target)||e.target&&!o(this,G)&&((n=(t=o(this,ie)).current)==null||n.call(t,e))})});d(this,ge,e=>{let t=e;t.defaultPrevented&&(t=qe(e)),o(this,q).current(e)});d(this,Z,ze(e=>{if(!this.opts.ref.current){o(this,F).call(this);return}const t=this.opts.isValidEvent.current(e,this.opts.ref.current)||ir(e,this.opts.ref.current);if(!o(this,j)||M(this,J,it).call(this)||!t){o(this,F).call(this);return}let n=e;if(n.defaultPrevented&&(n=qe(n)),o(this,U).current!=="close"&&o(this,U).current!=="defer-otherwise-close"){o(this,F).call(this);return}e.pointerType==="touch"?(o(this,F).call(this),T(this,F,Je(o(this,P),"click",o(this,ge),{once:!0}))):o(this,q).current(n)},10));d(this,pe,e=>{o(this,N)[e.type]=!0});d(this,ye,e=>{o(this,N)[e.type]=!1});d(this,me,()=>{this.opts.ref.current&&T(this,j,nr(this.opts.ref.current))});d(this,we,e=>this.opts.ref.current?tt(this.opts.ref.current,e):!1);d(this,se,ze(()=>{for(const e in o(this,N))o(this,N)[e]=!1;T(this,j,!1)},20));d(this,Ee,()=>{T(this,G,!0)});d(this,Se,()=>{T(this,G,!1)});L(this,"props",{onfocuscapture:o(this,Ee),onblurcapture:o(this,Se)});this.opts=e,T(this,U,e.interactOutsideBehavior),T(this,q,e.onInteractOutside),T(this,ie,e.onFocusOutside),Y(()=>{T(this,P,rt(this.opts.ref.current))});let t=E;const n=()=>{o(this,se).call(this),globalThis.bitsDismissableLayers.delete(this),o(this,Z).destroy(),t()};K([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Re(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,o(this,U)),t(),t=M(this,J,nt).call(this))}),n}),Ut(()=>{o(this,se).destroy(),globalThis.bitsDismissableLayers.delete(this),o(this,Z).destroy(),o(this,F).call(this),t()})}}q=new WeakMap,U=new WeakMap,N=new WeakMap,j=new WeakMap,G=new WeakMap,P=new WeakMap,ie=new WeakMap,F=new WeakMap,be=new WeakMap,J=new WeakSet,nt=function(){return ne(R(o(this,P),"pointerdown",ne(o(this,pe),o(this,me)),{capture:!0}),R(o(this,P),"pointerdown",ne(o(this,ye),o(this,Z))),R(o(this,P),"focusin",o(this,be)))},ge=new WeakMap,Z=new WeakMap,pe=new WeakMap,ye=new WeakMap,me=new WeakMap,we=new WeakMap,se=new WeakMap,it=function(){return Object.values(o(this,N)).some(Boolean)},Ee=new WeakMap,Se=new WeakMap;function tr(r){return new er(r)}function rr(r){return r.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function nr(r){const e=[...globalThis.bitsDismissableLayers],t=rr(e);if(t)return t[0].opts.ref.current===r;const[n]=e[0];return n.opts.ref.current===r}function ir(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;return Ht(t)?rt(t).documentElement.contains(t)&&!tt(e,t)&&$t(r,e):!1}function qe(r){const e=r.currentTarget,t=r.target;let n;r instanceof PointerEvent?n=new PointerEvent(r.type,r):n=new PointerEvent("pointerdown",r);let i=!1;return new Proxy(n,{get:(s,u)=>u==="currentTarget"?e:u==="target"?t:u==="preventDefault"?()=>{i=!0,typeof s.preventDefault=="function"&&s.preventDefault()}:u==="defaultPrevented"?i:u in s?s[u]:r[u]})}function dn(r,e){$(e,!0);let t=w(e,"interactOutsideBehavior",3,"close"),n=w(e,"onInteractOutside",3,E),i=w(e,"onFocusOutside",3,E),a=w(e,"isValidEvent",3,()=>!1);const s=tr({id:b.with(()=>e.id),interactOutsideBehavior:b.with(()=>t()),onInteractOutside:b.with(()=>n()),enabled:b.with(()=>e.enabled),onFocusOutside:b.with(()=>i()),isValidEvent:b.with(()=>a()),ref:e.ref});var u=k(),c=_(u);te(c,()=>e.children??Q,()=>({props:s.props})),B(r,u),ee()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Te,Ce;class sr{constructor(e){L(this,"opts");L(this,"domContext");d(this,Te,()=>R(this.domContext.getDocument(),"keydown",o(this,Ce),{passive:!1}));d(this,Ce,e=>{if(e.key!==Kt||!or(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const n=this.opts.escapeKeydownBehavior.current;n!=="close"&&n!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e,this.domContext=new Pe(this.opts.ref);let t=E;K(()=>e.enabled.current,n=>(n&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=o(this,Te).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}Te=new WeakMap,Ce=new WeakMap;function ar(r){return new sr(r)}function or(r){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([i,{current:a}])=>a==="close"||a==="ignore");if(t)return t[0]===r;const[n]=e[0];return n===r}function hn(r,e){$(e,!0);let t=w(e,"escapeKeydownBehavior",3,"close"),n=w(e,"onEscapeKeydown",3,E);ar({escapeKeydownBehavior:b.with(()=>t()),onEscapeKeydown:b.with(()=>n()),enabled:b.with(()=>e.enabled),ref:e.ref});var i=k(),a=_(i);te(a,()=>e.children??Q),B(r,i),ee()}const D=b([]);function ur(){return{add(r){const e=D.current[0];e&&r.id!==e.id&&e.pause(),D.current=je(D.current,r),D.current.unshift(r)},remove(r){var e;D.current=je(D.current,r),(e=D.current[0])==null||e.resume()},get current(){return D.current}}}function cr(){let r=le(!1),e=le(!1);return{id:Qe(),get paused(){return y(r)},get isHandlingFocus(){return y(e)},set isHandlingFocus(t){C(e,t,!0)},pause(){C(r,!0)},resume(){C(r,!1)}}}function je(r,e){return[...r].filter(t=>t.id!==e.id)}function lr(r){return r.filter(e=>e.tagName!=="A")}function x(r,{select:e=!1}={}){if(!(r&&r.focus))return;const t=$e(r);if(t.activeElement===r)return;const n=t.activeElement;r.focus({preventScroll:!0}),r!==n&&zt(r)&&e&&r.select()}function fr(r,{select:e=!1}={},t){const n=t();for(const i of r)if(x(i,{select:e}),t()!==n)return!0}function Ge(r,e){for(const t of r)if(!qt(t,e))return t}function st(r){const e=[],n=$e(r).createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dr(r){const e=st(r),t=Ge(e,r),n=Ge(e.reverse(),r);return[t,n]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var at=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],fe=at.join(","),ot=typeof Element>"u",V=ot?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,de=!ot&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},he=function r(e,t){var n;t===void 0&&(t=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=i===""||i==="true",s=a||t&&e&&r(e.parentNode);return s},hr=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},ut=function(e,t,n){if(he(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(fe));return t&&V.call(e,fe)&&i.unshift(e),i=i.filter(n),i},ct=function r(e,t,n){for(var i=[],a=Array.from(e);a.length;){var s=a.shift();if(!he(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),c=u.length?u:s.children,h=r(c,!0,n);n.flatten?i.push.apply(i,h):i.push({scopeParent:s,candidates:h})}else{var p=V.call(s,fe);p&&n.filter(s)&&(t||!e.includes(s))&&i.push(s);var f=s.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(s),S=!he(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(f&&S){var W=r(f===!0?s.children:f.children,!0,n);n.flatten?i.push.apply(i,W):i.push({scopeParent:s,candidates:W})}else a.unshift.apply(a,s.children)}}return i},lt=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ft=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||hr(e))&&!lt(e)?0:e.tabIndex},vr=function(e,t){var n=ft(e);return n<0&&t&&!lt(e)?0:n},br=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},dt=function(e){return e.tagName==="INPUT"},gr=function(e){return dt(e)&&e.type==="hidden"},pr=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},yr=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},mr=function(e){if(!e.name)return!0;var t=e.form||de(e),n=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var a=yr(i,e.form);return!a||a===e},wr=function(e){return dt(e)&&e.type==="radio"},Er=function(e){return wr(e)&&!mr(e)},Sr=function(e){var t,n=e&&de(e),i=(t=n)===null||t===void 0?void 0:t.host,a=!1;if(n&&n!==e){var s,u,c;for(a=!!((s=i)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!a&&i;){var h,p,f;n=de(i),i=(h=n)===null||h===void 0?void 0:h.host,a=!!((p=i)!==null&&p!==void 0&&(f=p.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return a},Ze=function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n===0&&i===0},Tr=function(e,t){var n=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=V.call(e,"details>summary:first-of-type"),s=a?e.parentElement:e;if(V.call(s,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var u=e;e;){var c=e.parentElement,h=de(e);if(c&&!c.shadowRoot&&i(c)===!0)return Ze(e);e.assignedSlot?e=e.assignedSlot:!c&&h!==e.ownerDocument?e=h.host:e=c}e=u}if(Sr(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Ze(e);return!1},Cr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if(i.tagName==="LEGEND")return V.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},ve=function(e,t){return!(t.disabled||he(t)||gr(t)||Tr(t,e)||pr(t)||Cr(t))},Ne=function(e,t){return!(Er(t)||ft(t)<0||!ve(e,t))},Ir=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Or=function r(e){var t=[],n=[];return e.forEach(function(i,a){var s=!!i.scopeParent,u=s?i.scopeParent:i,c=vr(u,s),h=s?r(i.candidates):u;c===0?s?t.push.apply(t,h):t.push(u):n.push({documentOrder:a,tabIndex:c,item:i,isScope:s,content:h})}),n.sort(br).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(t)},vn=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ct([e],t.includeContainer,{filter:Ne.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ir}):n=ut(e,t.includeContainer,Ne.bind(null,t)),Or(n)},bn=function(e,t){t=t||{};var n;return t.getShadowRoot?n=ct([e],t.includeContainer,{filter:ve.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=ut(e,t.includeContainer,ve.bind(null,t)),n},Ar=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return V.call(e,fe)===!1?!1:Ne(t,e)},Fr=at.concat("iframe").join(","),gn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return V.call(e,Fr)===!1?!1:ve(t,e)};const Lr=new et("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),Dr=new et("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),xr=new Ye("FocusScope");function Nr({id:r,loop:e,enabled:t,onOpenAutoFocus:n,onCloseAutoFocus:i,forceMount:a,ref:s}){const u=ur(),c=cr(),h=xr.getOr({ignoreCloseAutoFocus:!1});let p=null;const f=new Pe(s);function S(l){if(!(c.paused||!s.current||c.isHandlingFocus)){c.isHandlingFocus=!0;try{const v=l.target;if(!xe(v))return;const g=s.current.contains(v);if(l.type==="focusin")if(g)p=v;else{if(h.ignoreCloseAutoFocus)return;x(p,{select:!0})}else l.type==="focusout"&&!g&&!h.ignoreCloseAutoFocus&&x(p,{select:!0})}finally{c.isHandlingFocus=!1}}}function W(l){if(!p||!s.current)return;let v=!1;for(const g of l){if(g.type==="childList"&&g.removedNodes.length>0)for(const m of g.removedNodes){if(m===p){v=!0;break}if(m.nodeType===Node.ELEMENT_NODE&&m.contains(p)){v=!0;break}}if(v)break}v&&s.current&&!s.current.contains(f.getActiveElement())&&x(s.current)}K([()=>s.current,()=>t.current],([l,v])=>{if(!l||!v)return;const g=ne(R(f.getDocument(),"focusin",S),R(f.getDocument(),"focusout",S)),m=new MutationObserver(W);return m.observe(l,{childList:!0,subtree:!0,attributes:!1}),()=>{g(),m.disconnect()}}),K([()=>a.current,()=>s.current],([l,v])=>{if(l)return;const g=f.getActiveElement();return Me(v,g),()=>{v&&Ue(g)}}),K([()=>a.current,()=>s.current,()=>t.current],([l,v])=>{if(!l)return;const g=f.getActiveElement();return Me(v,g),()=>{v&&Ue(g)}});function Me(l,v){if(l||(l=f.getElementById(r.current)),!l||!t.current)return;if(u.add(c),!l.contains(v)){const m=Lr.createEvent();n.current(m),m.defaultPrevented||ke(()=>{if(!l)return;fr(lr(st(l)),{select:!0},()=>f.getActiveElement())||x(l)})}}function Ue(l){var m;const v=Dr.createEvent();(m=i.current)==null||m.call(i,v);const g=h.ignoreCloseAutoFocus;Re(0,()=>{!v.defaultPrevented&&l&&!g&&x(Ar(l)?l:f.getDocument().body,{select:!0}),u.remove(c)})}function vt(l){if(!t.current||!e.current&&!t.current||c.paused)return;const v=l.key===Vt&&!l.ctrlKey&&!l.altKey&&!l.metaKey,g=f.getActiveElement();if(!(v&&g))return;const m=s.current;if(!m)return;const[oe,Fe]=dr(m);oe&&Fe?!l.shiftKey&&g===Fe?(l.preventDefault(),e.current&&x(oe,{select:!0})):l.shiftKey&&g===oe&&(l.preventDefault(),e.current&&x(Fe,{select:!0})):g===m&&l.preventDefault()}const bt=Ae(()=>({id:r.current,tabindex:-1,onkeydown:vt}));return{get props(){return y(bt)}}}function pn(r,e){$(e,!0);let t=w(e,"trapFocus",3,!1),n=w(e,"loop",3,!1),i=w(e,"onCloseAutoFocus",3,E),a=w(e,"onOpenAutoFocus",3,E),s=w(e,"forceMount",3,!1);const u=Nr({enabled:b.with(()=>t()),loop:b.with(()=>n()),onCloseAutoFocus:b.with(()=>i()),onOpenAutoFocus:b.with(()=>a()),id:b.with(()=>e.id),forceMount:b.with(()=>s()),ref:e.ref});var c=k(),h=_(c);te(h,()=>e.focusScope??Q,()=>({props:u.props})),B(r,c),ee()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var X,Ie,ht,Oe,ae;class Pr{constructor(e){d(this,Ie);L(this,"opts");L(this,"domContext");d(this,X,E);d(this,Oe,e=>{const t=this.opts.ref.current,n=e.target;!xe(t)||!xe(n)||!this.opts.enabled.current||!Br(this)||!_t(t,n)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&T(this,X,kr(t,this.domContext.getDocument().body)))});d(this,ae,()=>{o(this,X).call(this),T(this,X,E)});this.opts=e,this.domContext=new Pe(e.ref);let t=E;K(()=>this.opts.enabled.current,n=>(n&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=M(this,Ie,ht).call(this)),()=>{t(),o(this,ae).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}X=new WeakMap,Ie=new WeakSet,ht=function(){return ne(R(this.domContext.getDocument(),"pointerdown",o(this,Oe)),R(this.domContext.getDocument(),"pointerup",Bt(o(this,ae),this.opts.onPointerUp.current)))},Oe=new WeakMap,ae=new WeakMap;function Rr(r){return new Pr(r)}const Xe=r=>r.style.userSelect||r.style.webkitUserSelect;function kr(r,e){const t=Xe(e),n=Xe(r);return ue(e,"none"),ue(r,"text"),()=>{ue(e,t),ue(r,n)}}function ue(r,e){r.style.userSelect=e,r.style.webkitUserSelect=e}function Br(r){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===r:!1}function yn(r,e){$(e,!0);let t=w(e,"preventOverflowTextSelection",3,!0),n=w(e,"onPointerDown",3,E),i=w(e,"onPointerUp",3,E);Rr({id:b.with(()=>e.id),onPointerDown:b.with(()=>n()),onPointerUp:b.with(()=>i()),enabled:b.with(()=>e.enabled&&t()),ref:e.ref});var a=k(),s=_(a);te(s,()=>e.children??Q),B(r,a),ee()}function _r(r){let e=0,t=le(void 0),n;function i(){e-=1,n&&e<=0&&(n(),C(t,void 0),n=void 0)}return(...a)=>(e+=1,y(t)===void 0&&(n=Pt(()=>{C(t,r(...a),!0)})),Y(()=>()=>{i()}),y(t))}const Mr=_r(()=>{const r=new De,e=Ae(()=>{for(const a of r.values())if(a)return!0;return!1});let t=le(null),n=null;function i(){Be&&(document.body.setAttribute("style",y(t)??""),document.body.style.removeProperty("--scrollbar-width"),He&&(n==null||n()))}return Y(()=>{const a=y(e);return Rt(()=>{if(!a)return;C(t,document.body.getAttribute("style"),!0);const s=getComputedStyle(document.body),u=window.innerWidth-document.documentElement.clientWidth,h={padding:Number.parseInt(s.paddingRight??"0",10)+u,margin:Number.parseInt(s.marginRight??"0",10)};u>0&&(document.body.style.paddingRight=`${h.padding}px`,document.body.style.marginRight=`${h.margin}px`,document.body.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),He&&(n=Je(document,"touchmove",p=>{p.target===document.documentElement&&(p.touches.length>1||p.preventDefault())},{passive:!1})),ke(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),Y(()=>()=>{n==null||n()}),{get map(){return r},resetBodyStyle:i}});function Ur(r,e=()=>null){const t=Qe(),n=Mr();if(!n)return;const i=Ae(e);n.map.set(t,r??!1);const a=b.with(()=>n.map.get(t)??!1,s=>n.map.set(t,s));return Y(()=>()=>{n.map.delete(t),!Kr(n.map)&&(y(i)===null?requestAnimationFrame(()=>n.resetBodyStyle()):Re(y(i),()=>n.resetBodyStyle()))}),a}function Kr(r){for(const[e,t]of r)if(t)return!0;return!1}function mn(r,e){$(e,!0);let t=w(e,"preventScroll",3,!0),n=w(e,"restoreScrollDelay",3,null);Ur(t(),()=>n()),ee()}export{$r as A,xr as B,fr as C,dn as D,tn as E,pn as F,rn as H,fn as P,an as S,yn as T,Qr as a,Jr as b,Yr as c,Re as d,cn as e,Ht as f,st as g,hn as h,un as i,mn as j,on as k,en as l,xe as m,E as n,Ut as o,Be as p,ke as q,ln as r,Vt as s,sn as t,nn as u,He as v,Ar as w,vn as x,gn as y,bn as z};
