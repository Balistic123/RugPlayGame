import{Q as J,m as $,R as j,z as w,o as E,S as ee,q as M,g as G,K as te,v as se,x as ue,y as K,A as R,F as N,T as ve,B as O,C as L,D as ae,V as H,W as ne,X as _e,Y as k,Z as V,_ as Q,a0 as q,a1 as de,O as U,a2 as oe,a3 as ce,a4 as he,a5 as Ee,a6 as me,a7 as re,a8 as pe,a9 as Ae,E as Te,aa as ge,ab as xe}from"./Dc9Cd6uL.js";import{u as Ce,v as Ie,w as W}from"./BiLdCT7w.js";function be(l,e){return e}function Ne(l,e,r,u){for(var d=[],c=e.length,v=0;v<c;v++)he(e[v].e,d,!0);var o=c>0&&d.length===0&&r!==null;if(o){var h=r.parentNode;Ee(h),h.append(r),u.clear(),I(l,e[0].prev,e[c-1].next)}me(d,()=>{for(var f=0;f<c;f++){var _=e[f];o||(u.delete(_.k),I(l,_.prev,_.next)),re(_.e,!o)}})}function De(l,e,r,u,d,c=null){var v=l,o={flags:e,items:new Map,first:null},h=(e&j)!==0;if(h){var f=l;v=E?w(ee(f)):f.appendChild(J())}E&&M();var _=null,m=!1,a=te(()=>{var s=r();return oe(s)?s:s==null?[]:ne(s)});$(()=>{var s=G(a),n=s.length;if(m&&n===0)return;m=n===0;let x=!1;if(E){var A=se(v)===ue;A!==(n===0)&&(v=K(),w(v),R(!1),x=!0)}if(E){for(var T=null,g,p=0;p<n;p++){if(N.nodeType===8&&N.data===ve){v=N,x=!0,R(!1);break}var i=s[p],t=u(i,p);g=ie(N,o,T,null,i,t,p,d,e,r),o.items.set(t,g),T=g}n>0&&w(K())}E||Se(s,o,v,d,e,u,r),c!==null&&(n===0?_?O(_):_=L(()=>c(v)):_!==null&&ae(_,()=>{_=null})),x&&R(!0),G(a)}),E&&(v=N)}function Se(l,e,r,u,d,c,v){var Y,B,P,X;var o=(d&ce)!==0,h=(d&(V|q))!==0,f=l.length,_=e.items,m=e.first,a=m,s,n=null,x,A=[],T=[],g,p,i,t;if(o)for(t=0;t<f;t+=1)g=l[t],p=c(g,t),i=_.get(p),i!==void 0&&((Y=i.a)==null||Y.measure(),(x??(x=new Set)).add(i));for(t=0;t<f;t+=1){if(g=l[t],p=c(g,t),i=_.get(p),i===void 0){var le=a?a.e.nodes_start:r;n=ie(le,e,n,n===null?e.first:n.next,g,p,t,u,d,v),_.set(p,n),A=[],T=[],a=n.next;continue}if(h&&we(i,g,t,d),i.e.f&H&&(O(i.e),o&&((B=i.a)==null||B.unfix(),(x??(x=new Set)).delete(i))),i!==a){if(s!==void 0&&s.has(i)){if(A.length<T.length){var y=T[0],C;n=y.prev;var F=A[0],b=A[A.length-1];for(C=0;C<A.length;C+=1)Z(A[C],y,r);for(C=0;C<T.length;C+=1)s.delete(T[C]);I(e,F.prev,b.next),I(e,n,F),I(e,b,y),a=y,n=b,t-=1,A=[],T=[]}else s.delete(i),Z(i,a,r),I(e,i.prev,i.next),I(e,i,n===null?e.first:n.next),I(e,n,i),n=i;continue}for(A=[],T=[];a!==null&&a.k!==p;)a.e.f&H||(s??(s=new Set)).add(a),T.push(a),a=a.next;if(a===null)continue;i=a}A.push(i),n=i,a=i.next}if(a!==null||s!==void 0){for(var S=s===void 0?[]:ne(s);a!==null;)a.e.f&H||S.push(a),a=a.next;var D=S.length;if(D>0){var fe=d&j&&f===0?r:null;if(o){for(t=0;t<D;t+=1)(P=S[t].a)==null||P.measure();for(t=0;t<D;t+=1)(X=S[t].a)==null||X.fix()}Ne(e,S,fe,_)}}o&&_e(()=>{var z;if(x!==void 0)for(i of x)(z=i.a)==null||z.apply()}),k.first=e.first&&e.first.e,k.last=n&&n.e}function we(l,e,r,u){u&V&&Q(l.v,e),u&q?Q(l.i,r):l.i=r}function ie(l,e,r,u,d,c,v,o,h,f){var _=(h&V)!==0,m=(h&pe)===0,a=_?m?de(d):U(d):d,s=h&q?U(v):v,n={i:s,v:a,k:c,a:null,e:null,prev:r,next:u};try{return n.e=L(()=>o(l,a,s,f),E),n.e.prev=r&&r.e,n.e.next=u&&u.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),u!==null&&(u.prev=n,u.e.prev=n.e),n}finally{}}function Z(l,e,r){for(var u=l.next?l.next.e.nodes_start:r,d=e?e.e.nodes_start:r,c=l.e.nodes_start;c!==u;){var v=Ae(c);d.before(c),c=v}}function I(l,e,r){e===null?l.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function He(l,e,r,u,d,c){let v=E;E&&M();var o,h,f=null;E&&N.nodeType===1&&(f=N,M());var _=E?N:l,m;$(()=>{const a=e()||null;var s=r||a==="svg"?ge:null;a!==o&&(m&&(a===null?ae(m,()=>{m=null,h=null}):a===h?O(m):(re(m),W(!1))),a&&a!==h&&(m=L(()=>{if(f=E?f:s?document.createElementNS(s,a):document.createElement(a),Ce(f,f),u){E&&Ie(a)&&f.append(document.createComment(""));var n=E?ee(f):f.appendChild(J());E&&(n===null?R(!1):w(n)),u(f,n)}k.nodes_end=f,_.before(f)})),o=a,o&&(h=o),W(!0))},Te),v&&(R(!0),w(_))}xe();export{He as a,De as e,be as i};
