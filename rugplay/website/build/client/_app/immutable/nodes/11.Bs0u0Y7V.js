import{l as dt,i as vt,c as re,a,f as l,d as Et,b as jt,g as rt,t as ae,s as k}from"../chunks/BiLdCT7w.js";import{o as Ut}from"../chunks/DBnYf9wq.js";import{i as d,c as r,s,r as t,p as Ft,b as de,f as Nt,h as Yt,a as Ht,g as e,e as w,n as x,d as Ce,t as L}from"../chunks/Dc9Cd6uL.js";import{i as b}from"../chunks/4JrI1xkN.js";import{e as Ve,i as We}from"../chunks/DT6MbhOo.js";import{c as h}from"../chunks/DKQvO5e2.js";import{s as He,i as Qt,u as st,v as Vt,j as Wt}from"../chunks/aor5dgAF.js";import{C as ct}from"../chunks/BE8a_9Ge.js";import{C as ut}from"../chunks/b_f0gCBc.js";import{D as zt,R as Kt}from"../chunks/BpTyYBFh.js";import{R as Gt,H as Jt,a as Xt,U as Zt}from"../chunks/RnzTeRby.js";import{B as Qe}from"../chunks/PVG7Em25.js";import{I as qt}from"../chunks/5J9eaWb4.js";import{L as ea}from"../chunks/Ct87CVwI.js";import{B as ot}from"../chunks/BvtTpaCk.js";import{A as ta,a as aa,b as ra}from"../chunks/CqEP-Wsq.js";import{S as O}from"../chunks/DZFQxItp.js";import{S as sa}from"../chunks/BGGxhLCO.js";import{U as oa}from"../chunks/CTHXnj9k.js";import{b as it,P as ia}from"../chunks/DORihvSD.js";import{t as W}from"../chunks/BR_bh9L_.js";import{g as la}from"../chunks/BnkorlfL.js";import{I as ft,s as mt}from"../chunks/BFn_PWCM.js";import{D as na,a as da,b as va}from"../chunks/CpfRlYS9.js";import{D as ca}from"../chunks/CTgw-KxQ.js";import{L as ua}from"../chunks/khItcEfd.js";import{P as fa}from"../chunks/BiUxj-BE.js";import{C as ma}from"../chunks/C2PN0pux.js";import{C as pa}from"../chunks/HRCXpe-l.js";import{X as lt}from"../chunks/DpCNXmO0.js";import{T as _a}from"../chunks/CvioT2Jg.js";import{T as ga}from"../chunks/BQ1g71Ea.js";function ha(E,$){const I=dt($,["children","$$slots","$$events","$$legacy"]);ft(E,vt({name:"globe"},()=>I,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]],children:(j,se)=>{var y=re(),U=d(y);mt(U,$,"default",{}),a(j,y)},$$slots:{default:!0}}))}function nt(E,$){const I=dt($,["children","$$slots","$$events","$$legacy"]);ft(E,vt({name:"sparkles"},()=>I,{iconNode:[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}],["path",{d:"M4 17v2"}],["path",{d:"M5 18H3"}]],children:(j,se)=>{var y=re(),U=d(y);mt(U,$,"default",{}),a(j,y)},$$slots:{default:!0}}))}var $a=l('<div class="flex items-start justify-between gap-3"><div class="flex-1 space-y-3"><!> <!></div> <div class="flex flex-col items-end gap-2"><div class="relative flex h-12 w-16 items-end justify-center"><!> <div class="absolute bottom-0"><!></div></div></div></div> <div class="flex items-center gap-2"><!> <!> <!></div> <div class="mb-2 mt-2 flex items-center gap-2"><!> <!></div>',1),xa=l('<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>');function ba(E){var $=xa();Ve($,4,()=>Array(6),We,(I,$e)=>{ct(I,{class:"flex flex-col",children:(j,se)=>{ut(j,{class:"pb-4",children:(y,U)=>{var F=$a(),S=d(F),P=r(S),z=r(P);O(z,{class:"h-6 w-full"});var De=s(z,2);O(De,{class:"h-6 w-3/4"}),t(P);var oe=s(P,2),xe=r(oe),be=r(xe);O(be,{class:"h-10 w-16 rounded-full"});var we=s(be,2),ye=r(we);O(ye,{class:"h-4 w-8"}),t(we),t(xe),t(oe),t(S);var ie=s(S,2),ve=r(ie);O(ve,{class:"h-4 w-24"});var ce=s(ve,2);O(ce,{class:"h-1 w-1 rounded-full"});var ue=s(ce,2);O(ue,{class:"h-4 w-16"}),t(ie);var fe=s(ie,2),me=r(fe);O(me,{class:"h-5 w-5 rounded-full"});var Me=s(me,2);O(Me,{class:"h-4 w-20"}),t(fe),a(y,F)},$$slots:{default:!0}})},$$slots:{default:!0}})}),t($),a(E,$)}var wa=l("<!> Create",1),ya=l("<!> <!>",1),Pa=l("<!> Processing...",1),Aa=l("<!> <!>",1),ka=l('<!> <div class="space-y-4"><div class="space-y-2"><!> <!> <p class="text-muted-foreground text-xs"> </p> <p class="text-muted-foreground text-xs">The AI will automatically determine the appropriate resolution date and criteria.</p></div></div> <!>',1),Ia=(E,$,I)=>w($,e(I).value,!0),Ra=l('<button class="data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm"> </button>'),Sa=l("<!> Ask",1),Ca=l('<div class="py-16 text-center"><h3 class="mb-2 text-lg font-semibold">No questions yet</h3> <p class="text-muted-foreground mb-6">Be the first to create a prediction question!</p></div>'),Da=l("<!> YES",1),Ma=l("<!> NO",1),Ta=l("<!> SKIP",1),Ba=l("<span>•</span> <!>",1),La=l("<!> <!>",1),Oa=l('<button class="flex cursor-pointer items-center gap-2 text-left hover:underline"><!> <span class="text-muted-foreground"> </span></button>'),Ea=l("<!> <!>",1),ja=l('<div class="flex items-center gap-1"><!> <span class="text-green-600"> </span></div>'),Ua=l('<div class="flex items-center gap-1"><!> <span class="text-red-600"> </span></div>'),Fa=l('<div class="text-muted-foreground flex items-center gap-4 text-sm"><span>Your bets:</span> <!> <!></div>'),Na=l('<div class="flex items-start justify-between gap-3"><div class="flex-1"><h3 class="break-words text-lg font-medium"> </h3></div> <div class="flex flex-col items-end gap-2"><!> <div class="relative flex h-12 w-16 items-end justify-center"><svg class="h-10 w-16" viewBox="0 0 64 32"><path d="M 8 28 A 24 24 0 0 1 56 28" fill="none" stroke="var(--muted-foreground)" stroke-width="3" stroke-linecap="round" opacity="0.3"></path><path d="M 8 28 A 24 24 0 0 1 56 28" fill="none" stroke="var(--primary)" stroke-width="3" stroke-linecap="round" class="transition-all duration-300 ease-in-out"></path></svg> <div class="absolute bottom-0 text-sm font-medium"> </div></div></div></div> <div class="text-muted-foreground flex items-center gap-2 text-sm"><div class="flex items-center gap-1"><!> <!></div> <span>•</span> <div class="flex items-center gap-1"> </div> <!></div> <div class="mb-2 mt-2 flex items-center gap-2 text-sm"><!></div> <!>',1),Ya=l('<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),Ha=l('<!> <!> <div class="container mx-auto max-w-7xl p-6"><header class="mb-8"><div class="text-center"><h1 class="mb-2 flex items-center justify-center gap-2 text-3xl font-bold"><!> Hopium</h1> <p class="text-muted-foreground mb-6">AI-powered prediction markets. Create questions and bet on outcomes.</p></div></header> <div class="w-full"><div class="mb-6 flex items-center justify-center gap-2"><div class="bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]"><div class="grid w-full max-w-md grid-cols-3"></div></div> <!></div> <div class="flex-1 outline-none"><!></div></div></div>',1);function Pr(E,$){Ft($,!0);const[I,$e]=jt(),j=()=>rt(ia,"$PORTFOLIO_SUMMARY",I),se=()=>rt(oa,"$USER_DATA",I);let y=de(Nt([])),U=de(!0),F=de("active"),S=de(!1),P=de(""),z=de(!1),De=Ce(()=>j()?j().baseCurrencyBalance:0);Ut(()=>{oe(),se()&&it()});async function oe(){try{const n=e(F)==="active"?"ACTIVE":e(F)==="resolved"?"RESOLVED":"ALL",m=await fetch(`/api/hopium/questions?status=${n}&limit=50`);if(m.ok){const p=await m.json();w(y,p.questions,!0)}else W.error("Failed to load questions")}catch(n){console.error("Failed to fetch questions:",n),W.error("Failed to load questions")}finally{w(U,!1)}}async function xe(){if(!e(P).trim()){W.error("Please enter a question");return}w(z,!0);try{const n=await fetch("/api/hopium/questions/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e(P)})}),m=await n.json();n.ok?(W.success("Question created successfully!"),w(S,!1),w(P,""),oe(),it()):W.error(m.error||"Failed to create question",{duration:2e4})}catch{W.error("Network error")}finally{w(z,!1)}}function be(){if(!se()){W.error("You must be logged in to create a question");return}if(e(De)<=1e5){W.error("You need at least $100,000 in your portfolio (cash) to create a question.");return}w(S,!0)}Yt(()=>{e(F)&&(w(U,!0),oe())});const we=[{value:"active",label:"Active"},{value:"resolved",label:"Resolved"},{value:"all",label:"All"}];var ye=Ha(),ie=d(ye);sa(ie,{title:"Hopium - Rugplay",description:"AI-powered prediction markets in the Rugplay simulation game. Create yes/no questions, bet on outcomes with virtual currency, and test your forecasting skills.",keywords:"AI prediction markets game, virtual betting simulation, cryptocurrency prediction game, forecasting game, virtual currency betting"});var ve=s(ie,2);h(ve,()=>Kt,(n,m)=>{m(n,{get open(){return e(S)},set open(p){w(S,p,!0)},children:(p,K)=>{var A=re(),G=d(A);h(G,()=>zt,(Le,o)=>{o(Le,{class:"sm:max-w-lg",children:(Pe,Je)=>{var Ae=ka(),ke=d(Ae);h(ke,()=>na,(N,J)=>{J(N,{children:(C,ge)=>{var Y=ya(),X=d(Y);h(X,()=>da,(H,D)=>{D(H,{class:"flex items-center gap-2",children:(Z,M)=>{var R=wa(),ne=d(R);nt(ne,{class:"h-5 w-5"}),x(),a(Z,R)},$$slots:{default:!0}})});var le=s(X,2);h(le,()=>va,(H,D)=>{D(H,{children:(Z,M)=>{x();var R=ae("Create a yes/no question that will be resolved by AI.");a(Z,R)},$$slots:{default:!0}})}),a(C,Y)},$$slots:{default:!0}})});var pe=s(ke,2),Oe=r(pe),_e=r(Oe);ea(_e,{for:"question",children:(N,J)=>{x();var C=ae("Question *");a(N,C)},$$slots:{default:!0}});var Ie=s(_e,2);qt(Ie,{id:"question",placeholder:"Will *SKIBIDI reach $100 price today?",maxlength:200,get value(){return e(P)},set value(N){w(P,N,!0)}});var Re=s(Ie,2),Ee=r(Re);t(Re),x(2),t(Oe),t(pe);var je=s(pe,2);h(je,()=>ca,(N,J)=>{J(N,{children:(C,ge)=>{var Y=Aa(),X=d(Y);Qe(X,{variant:"outline",onclick:()=>w(S,!1),children:(D,Z)=>{x();var M=ae("Cancel");a(D,M)},$$slots:{default:!0}});var le=s(X,2);const H=Ce(()=>e(z)||!e(P).trim());Qe(le,{onclick:xe,get disabled(){return e(H)},children:(D,Z)=>{var M=re(),R=d(M);{var ne=Q=>{var V=Pa(),he=d(V);ua(he,{class:"h-4 w-4 animate-spin"}),x(),a(Q,V)},Se=Q=>{var V=ae("Publish");a(Q,V)};b(R,Q=>{e(z)?Q(ne):Q(Se,!1)})}a(D,M)},$$slots:{default:!0}}),a(C,Y)},$$slots:{default:!0}})}),L(()=>k(Ee,`${e(P).length??""}/200 characters`)),a(Pe,Ae)},$$slots:{default:!0}})}),a(p,A)},$$slots:{default:!0}})});var ce=s(ve,2),ue=r(ce),fe=r(ue),me=r(fe),Me=r(me);nt(Me,{class:"h-8 w-8 text-purple-500"}),x(),t(me),x(2),t(fe),t(ue);var ze=s(ue,2),Te=r(ze),Be=r(Te),Ke=r(Be);Ve(Ke,21,()=>we,We,(n,m)=>{var p=Ra();p.__click=[Ia,F,m];var K=r(p,!0);t(p),L(()=>{He(p,"data-state",e(F)===e(m).value?"active":"inactive"),k(K,e(m).label)}),a(n,p)}),t(Ke),t(Be);var pt=s(Be,2);{var _t=n=>{Qe(n,{onclick:be,children:(m,p)=>{var K=Sa(),A=d(K);fa(A,{class:"h-4 w-4"}),x(),a(m,K)},$$slots:{default:!0}})};b(pt,n=>{se()&&n(_t)})}t(Te);var Ge=s(Te,2),gt=r(Ge);{var ht=n=>{ba(n)},$t=(n,m)=>{{var p=A=>{var G=Ca();a(A,G)},K=A=>{var G=Ya();Ve(G,21,()=>e(y),We,(Le,o)=>{var Pe=re(),Je=d(Pe);h(Je,()=>ct,(Ae,ke)=>{ke(Ae,{class:"bg-card hover:bg-card/90 flex cursor-pointer flex-col transition-colors",onclick:()=>la(`/hopium/${e(o).id}`),children:(pe,Oe)=>{var _e=re(),Ie=d(_e);h(Ie,()=>ut,(Re,Ee)=>{Ee(Re,{class:"pb-4",children:(je,N)=>{var J=Na(),C=d(J),ge=r(C),Y=r(ge),X=r(Y,!0);t(Y),t(ge);var le=s(ge,2),H=r(le);{var D=i=>{const v=Ce(()=>e(o).aiResolution?"bg-success/80!":"");ot(i,{variant:"destructive",get class(){return`flex flex-shrink-0 items-center gap-1 ${e(v)??""}`},children:(_,q)=>{var T=re(),ee=d(T);{var g=c=>{var f=Da(),B=d(f);pa(B,{class:"h-3 w-3"}),x(),a(c,f)},u=c=>{var f=Ma(),B=d(f);lt(B,{class:"h-3 w-3"}),x(),a(c,f)};b(ee,c=>{e(o).aiResolution?c(g):c(u,!1)})}a(_,T)},$$slots:{default:!0}})},Z=(i,v)=>{{var _=q=>{ot(q,{variant:"outline",class:"flex flex-shrink-0 items-center gap-1 text-muted-foreground border-muted-foreground",children:(T,ee)=>{var g=Ta(),u=d(g);lt(u,{class:"h-3 w-3"}),x(),a(T,g)},$$slots:{default:!0}})};b(i,q=>{e(o).status==="CANCELLED"&&q(_)},v)}};b(H,i=>{e(o).status==="RESOLVED"?i(D):i(Z,!1)})}var M=s(H,2),R=r(M),ne=s(r(R));He(ne,"stroke-dasharray",Math.PI*24),t(R);var Se=s(R,2),Q=r(Se);t(Se),t(M),t(le),t(C);var V=s(C,2),he=r(V),Xe=r(he);ma(Xe,{class:"h-3 w-3"});var xt=s(Xe,2);{var bt=i=>{var v=ae();L(_=>k(v,_),[()=>st(e(o).resolutionDate).startsWith("Ended")?"Resolving":`${st(e(o).resolutionDate)} remaining`]),a(i,v)},wt=i=>{var v=ae();L(_=>k(v,`Resolved ${_??""}`),[()=>Vt(e(o).resolvedAt||"")]),a(i,v)};b(xt,i=>{e(o).status==="ACTIVE"?i(bt):i(wt,!1)})}t(he);var Ue=s(he,4),yt=r(Ue,!0);t(Ue);var Pt=s(Ue,2);{var At=i=>{var v=Ba(),_=s(d(v),2);ha(_,{class:"h-3 w-3 text-blue-500"}),a(i,v)};b(Pt,i=>{e(o).requiresWebSearch&&i(At)})}t(V);var Fe=s(V,2),kt=r(Fe);h(kt,()=>Gt,(i,v)=>{v(i,{children:(_,q)=>{var T=Ea(),ee=d(T);h(ee,()=>Jt,(u,c)=>{c(u,{children:(f,B)=>{var te=Oa(),Ze=r(te);h(Ze,()=>ta,(Ct,Dt)=>{Dt(Ct,{class:"h-5 w-5",children:(Mt,Qa)=>{var et=La(),tt=d(et);const Tt=Ce(()=>Wt(e(o).creator.image));h(tt,()=>aa,(Ne,Ye)=>{Ye(Ne,{get src(){return e(Tt)},get alt(){return e(o).creator.name}})});var Bt=s(tt,2);h(Bt,()=>ra,(Ne,Ye)=>{Ye(Ne,{class:"text-xs",children:(Lt,Va)=>{x();var at=ae();L(Ot=>k(at,Ot),[()=>e(o).creator.name.charAt(0)]),a(Lt,at)},$$slots:{default:!0}})}),a(Mt,et)},$$slots:{default:!0}})});var qe=s(Ze,2),St=r(qe);t(qe),t(te),L(()=>k(St,`@${e(o).creator.username??""}`)),a(f,te)},$$slots:{default:!0}})});var g=s(ee,2);h(g,()=>Xt,(u,c)=>{c(u,{class:"w-80",children:(f,B)=>{Zt(f,{get userId(){return e(o).creator.id}})},$$slots:{default:!0}})}),a(_,T)},$$slots:{default:!0}})}),t(Fe);var It=s(Fe,2);{var Rt=i=>{var v=Fa(),_=s(r(v),2);{var q=g=>{var u=ja(),c=r(u);_a(c,{class:"h-3 w-3 text-green-600"});var f=s(c,2),B=r(f);t(f),t(u),L(te=>k(B,`YES: $${te??""}`),[()=>e(o).userBets.yesAmount.toFixed(2)]),a(g,u)};b(_,g=>{e(o).userBets.yesAmount>0&&g(q)})}var T=s(_,2);{var ee=g=>{var u=Ua(),c=r(u);ga(c,{class:"h-3 w-3 text-red-600"});var f=s(c,2),B=r(f);t(f),t(u),L(te=>k(B,`NO: $${te??""}`),[()=>e(o).userBets.noAmount.toFixed(2)]),a(g,u)};b(T,g=>{e(o).userBets.noAmount>0&&g(ee)})}t(v),a(i,v)};b(It,i=>{e(o).userBets&&(e(o).userBets.yesAmount>0||e(o).userBets.noAmount>0)&&i(Rt)})}L((i,v)=>{k(X,e(o).question),He(ne,"stroke-dashoffset",Math.PI*24-e(o).yesPercentage/100*Math.PI*24),k(Q,`${i??""}%`),k(yt,v)},[()=>e(o).yesPercentage.toFixed(0),()=>Qt(e(o).totalAmount)]),a(je,J)},$$slots:{default:!0}})}),a(pe,_e)},$$slots:{default:!0}})}),a(Le,Pe)}),t(G),a(A,G)};b(n,A=>{e(y).length===0?A(p):A(K,!1)},m)}};b(gt,n=>{e(U)?n(ht):n($t,!1)})}t(Ge),t(ze),t(ce),a(E,ye),Ht(),$e()}Et(["click"]);export{Pr as component};
