import{f as l,a as i,d as je,h as Ve,b as Be,g as ye,t as we,s as p,c as $e}from"../chunks/BiLdCT7w.js";import{e as Te,i as Oe}from"../chunks/DT6MbhOo.js";import{o as ze}from"../chunks/DBnYf9wq.js";import{i as _,s as r,c as a,r as t,p as He,a as Ye,$ as De,n as ee,t as b,g as e,K as g}from"../chunks/Dc9Cd6uL.js";import{i as P}from"../chunks/4JrI1xkN.js";import{i as We}from"../chunks/BFn_PWCM.js";import{C as qe}from"../chunks/BE8a_9Ge.js";import{C as Ke}from"../chunks/D0g6TdLa.js";import{j as Me,n as Qe,e as be,i as se}from"../chunks/aor5dgAF.js";import{C as Ge}from"../chunks/b_f0gCBc.js";import{C as Je}from"../chunks/jS9pjJ83.js";import{B as Xe}from"../chunks/BvtTpaCk.js";import{A as Ze,a as es,b as ss}from"../chunks/CqEP-Wsq.js";import{R as as,H as ts,a as rs,U as os}from"../chunks/RnzTeRby.js";import{l as ns,a as is,i as ls}from"../chunks/rNNGKTep.js";import{g as me}from"../chunks/BnkorlfL.js";import{C as Se}from"../chunks/KLYSBcZv.js";import{S as h}from"../chunks/DZFQxItp.js";import{S as ms}from"../chunks/BGGxhLCO.js";import{A as ve}from"../chunks/DY5DzamU.js";import{C as vs}from"../chunks/C2PN0pux.js";import{T as cs}from"../chunks/CvioT2Jg.js";import{T as ds}from"../chunks/BQ1g71Ea.js";var ps=l('<div class="flex flex-col gap-3 rounded-lg border p-3 sm:flex-row sm:items-center sm:justify-between sm:p-4"><div class="flex items-center gap-3 sm:gap-4"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-1 sm:gap-2"><div class="flex items-center gap-1.5"><!> <!></div> <!> <div class="flex items-center gap-1"><!> <!></div></div></div></div> <div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <!> <!> <!></div> <div class="flex items-center gap-1"><!> <!></div></div></div>'),_s=l("<!> <!>",1);function fs(O){var R=_s(),y=_(R);h(y,{class:"h-6 w-20 rounded-full sm:ml-auto"});var ae=r(y,2);Te(ae,0,()=>Array(8),Oe,(N,ce)=>{var z=ps(),U=a(z),H=a(U),Y=a(H),L=a(Y),J=a(L);h(J,{class:"h-5 w-5 rounded-full sm:h-6 sm:w-6"});var S=r(J,2);h(S,{class:"h-4 w-20 sm:h-5 sm:w-24"}),t(L);var T=r(L,2);h(T,{class:"h-3 w-12 sm:h-4 sm:w-16"});var D=r(T,2),W=a(D);h(W,{class:"h-4 w-4 rounded-full sm:h-5 sm:w-5"});var te=r(W,2);h(te,{class:"h-3 w-16 sm:h-4 sm:w-20"}),t(D),t(Y),t(H),t(U);var F=r(U,2),q=a(F),A=a(q);h(A,{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"});var K=r(A,2);h(K,{class:"h-4 w-8 sm:h-4 sm:w-10"});var k=r(K,2);h(k,{class:"h-4 w-1"});var E=r(k,2);h(E,{class:"h-4 w-12 sm:h-4 sm:w-16"}),t(q);var w=r(q,2),j=a(w);h(j,{class:"h-3 w-3 sm:h-4 sm:w-4"});var M=r(j,2);h(M,{class:"h-3 w-12 sm:h-4 sm:w-16"}),t(w),t(F),t(z),i(N,z)}),i(O,R)}var us=l('<meta name="description" content="Real-time cryptocurrency trading activity on Rugplay"/>'),xs=l('<div class="flex items-center gap-2"><!> Stream</div> <!>',1),gs=l('<div class="flex flex-col items-center justify-center py-12 text-center sm:py-16"><!> <h3 class="mb-2 text-base font-semibold sm:text-lg">Waiting for trades...</h3> <p class="text-muted-foreground text-sm sm:text-base">All trades will appear here in real-time.</p></div>'),hs=(O,R,y)=>R(e(y).coinSymbol,e(y)),ys=l('<button class="flex cursor-pointer items-center gap-1.5 transition-opacity hover:underline hover:opacity-80"><!> <span class="font-mono text-sm font-medium sm:text-base"> </span></button> <span class="text-muted-foreground text-xs sm:text-sm"> </span>',1),ws=l('<span class="font-mono text-sm font-medium sm:text-base"> </span> <span class="text-muted-foreground text-xs sm:text-sm"> </span>',1),$s=(O,R,y)=>R(e(y).coinSymbol,e(y)),bs=l('<button class="flex cursor-pointer items-center gap-1.5 transition-opacity hover:underline hover:opacity-80"><!> <span class="font-mono text-sm font-medium sm:text-base"> </span></button> <span class="text-muted-foreground text-xs sm:text-sm"> </span>',1),Ss=l("<!> <!>",1),Ts=l('<div class="flex items-center gap-1"><!> <span class="max-w-[120px] truncate text-xs sm:max-w-none sm:text-sm"> </span></div>'),Rs=l("<!> <!>",1),As=l('<!> <span class="text-blue-500"> </span> <span class="text-muted-foreground">|</span> <span> </span>',1),Cs=l('<!> <span class="text-green-500">BUY</span> <span class="text-muted-foreground">|</span> <span> </span>',1),Ns=l('<!> <span class="text-red-500">SELL</span> <span class="text-muted-foreground">|</span> <span> </span>',1),ks=l('<div class="hover:bg-muted/50 flex flex-col gap-3 rounded-lg border p-3 transition-colors sm:flex-row sm:items-center sm:justify-between sm:p-4"><div class="flex items-center gap-3 sm:gap-4"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-1 sm:gap-2"><!> <!></div></div></div> <div class="flex items-center justify-between gap-2"><div class="flex items-center gap-2 font-mono text-xs sm:text-sm"><!></div> <div class="text-muted-foreground flex items-center gap-1 text-xs sm:gap-1 sm:text-sm"><!> <span class="whitespace-nowrap font-mono"> </span></div></div></div>'),Es=l('<div class="space-y-3"><!></div>'),Is=l("<!> <!>",1),Ps=l('<!> <div class="container mx-auto max-w-7xl p-6"><header class="mb-8"><div><h1 class="text-2xl font-bold sm:text-3xl">Live Trades</h1> <p class="text-muted-foreground text-sm sm:text-base">Real-time trading activity for all trades</p></div></header> <!></div>',1);function ra(O,R){He(R,!1);const[y,ae]=Be(),N=()=>ye(is,"$allTradesStore",y),ce=()=>ye(ls,"$isLoadingTrades",y);function z(S){me(`/user/${S}`)}function U(S,T){T.type==="TRANSFER_IN"||T.type==="TRANSFER_OUT"?me(`/user/${T.username}`):me(`/coin/${S.toLowerCase()}`)}ze(()=>{ns("expanded")}),We();var H=Ps();Ve(S=>{var T=us();De.title="Live Trades - Rugplay",i(S,T)});var Y=_(H);ms(Y,{title:"Live Trades - Rugplay",description:"Watch real-time virtual cryptocurrency trading activity in the Rugplay simulation game. See live trades, user activity, and market movements as they happen.",keywords:"live crypto trades game, real-time trading simulation, virtual trading activity, crypto game stream"});var L=r(Y,2),J=r(a(L),2);qe(J,{children:(S,T)=>{var D=Is(),W=_(D);Ge(W,{children:(F,q)=>{Je(F,{class:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:(A,K)=>{var k=xs(),E=_(k),w=a(E);ve(w,{class:"h-5 w-5"}),ee(),t(E);var j=r(E,2);{var M=Q=>{Xe(Q,{variant:"secondary",class:"w-fit sm:ml-auto",children:(C,I)=>{ee();var V=we();b(()=>p(V,`${N().length??""} trade${N().length!==1?"s":""}`)),i(C,V)},$$slots:{default:!0}})};P(j,Q=>{N().length>0&&Q(M)})}i(A,k)},$$slots:{default:!0}})},$$slots:{default:!0}});var te=r(W,2);Ke(te,{children:(F,q)=>{var A=Es(),K=a(A);{var k=w=>{fs(w)},E=(w,j)=>{{var M=C=>{var I=gs(),V=a(I);ve(V,{class:"text-muted-foreground/50 mb-4 h-12 w-12 sm:h-16 sm:w-16"}),ee(4),t(I),i(C,I)},Q=C=>{var I=$e(),V=_(I);Te(V,1,N,re=>re.timestamp,(re,s)=>{var oe=ks(),ne=a(oe),de=a(ne),pe=a(de),_e=a(pe);{var Re=m=>{var $=$e(),c=_($);{var f=n=>{var v=ys(),o=_(v);o.__click=[hs,U,s];var u=a(o);const x=g(()=>e(s).coinName||e(s).coinSymbol);Se(u,{get icon(){return e(s).coinIcon},get symbol(){return e(s).coinSymbol},get name(){return e(x)},size:5,class:"sm:size-6"});var B=r(u,2),G=a(B);t(B),t(o);var le=r(o,2),X=a(le,!0);t(le),b(Z=>{p(G,`${Z??""} *${e(s).coinSymbol??""}`),p(X,e(s).type==="TRANSFER_IN"?"received by":"sent by")},[()=>be(e(s).amount)],g),i(n,v)},d=n=>{var v=ws(),o=_(v),u=a(o,!0);t(o);var x=r(o,2),B=a(x,!0);t(x),b(G=>{p(u,G),p(B,e(s).type==="TRANSFER_IN"?"received by":"sent by")},[()=>se(e(s).totalValue)],g),i(n,v)};P(c,n=>{e(s).amount>0?n(f):n(d,!1)})}i(m,$)},Ae=m=>{var $=bs(),c=_($);c.__click=[$s,U,s];var f=a(c);const d=g(()=>e(s).coinName||e(s).coinSymbol);Se(f,{get icon(){return e(s).coinIcon},get symbol(){return e(s).coinSymbol},get name(){return e(d)},size:5,class:"sm:size-6"});var n=r(f,2),v=a(n);t(n),t(c);var o=r(c,2),u=a(o,!0);t(o),b(x=>{p(v,`${x??""} *${e(s).coinSymbol??""}`),p(u,e(s).type==="BUY"?"bought by":"sold by")},[()=>be(e(s).amount)],g),i(m,$)};P(_e,m=>{e(s).type==="TRANSFER_IN"||e(s).type==="TRANSFER_OUT"?m(Re):m(Ae,!1)})}var Ce=r(_e,2);as(Ce,{children:(m,$)=>{var c=Rs(),f=_(c);ts(f,{class:"cursor-pointer font-medium underline-offset-4 hover:underline",onclick:()=>z(e(s).username),children:(n,v)=>{var o=Ts(),u=a(o);Ze(u,{class:"h-4 w-4 sm:h-5 sm:w-5",children:(G,le)=>{var X=Ss(),Z=_(X);const Pe=g(()=>Me(e(s).userImage??null));es(Z,{get src(){return e(Pe)},get alt(){return e(s).username}});var Ue=r(Z,2);ss(Ue,{class:"text-xs",children:(Le,Us)=>{ee();var he=we();b(Fe=>p(he,Fe),[()=>e(s).username.charAt(0).toUpperCase()],g),i(Le,he)},$$slots:{default:!0}}),i(G,X)},$$slots:{default:!0}});var x=r(u,2),B=a(x);t(x),t(o),b(()=>p(B,`@${e(s).username??""}`)),i(n,o)},$$slots:{default:!0}});var d=r(f,2);rs(d,{class:"w-80",side:"top",sideOffset:3,children:(n,v)=>{const o=g(()=>parseInt(e(s).userId));os(n,{get userId(){return e(o)}})},$$slots:{default:!0}}),i(m,c)},$$slots:{default:!0}}),t(pe),t(de),t(ne);var fe=r(ne,2),ie=a(fe),Ne=a(ie);{var ke=m=>{var $=As(),c=_($);ve(c,{class:"h-3.5 w-3.5 text-blue-500 sm:h-4 sm:w-4"});var f=r(c,2),d=a(f,!0);t(f);var n=r(f,4),v=a(n,!0);t(n),b(o=>{p(d,e(s).type==="TRANSFER_IN"?"RECEIVED":"SENT"),p(v,o)},[()=>se(e(s).totalValue)],g),i(m,$)},Ee=(m,$)=>{{var c=d=>{var n=Cs(),v=_(n);cs(v,{class:"h-3.5 w-3.5 text-green-500 sm:h-4 sm:w-4"});var o=r(v,6),u=a(o,!0);t(o),b(x=>p(u,x),[()=>se(e(s).totalValue)],g),i(d,n)},f=d=>{var n=Ns(),v=_(n);ds(v,{class:"h-3.5 w-3.5 text-red-500 sm:h-4 sm:w-4"});var o=r(v,6),u=a(o,!0);t(o),b(x=>p(u,x),[()=>se(e(s).totalValue)],g),i(d,n)};P(m,d=>{e(s).type==="BUY"?d(c):d(f,!1)},$)}};P(Ne,m=>{e(s).type==="TRANSFER_IN"||e(s).type==="TRANSFER_OUT"?m(ke):m(Ee,!1)})}t(ie);var ue=r(ie,2),xe=a(ue);vs(xe,{class:"h-3 w-3 sm:h-4 sm:w-4"});var ge=r(xe,2),Ie=a(ge,!0);t(ge),t(ue),t(fe),t(oe),b(m=>p(Ie,m),[()=>Qe(new Date(e(s).timestamp))],g),i(re,oe)}),i(C,I)};P(w,C=>{N().length===0?C(M):C(Q,!1)},j)}};P(K,w=>{ce()?w(k):w(E,!1)})}t(A),i(F,A)},$$slots:{default:!0}}),i(S,D)},$$slots:{default:!0}}),t(L),i(O,H),Ye(),ae()}je(["click"]);export{ra as component};
