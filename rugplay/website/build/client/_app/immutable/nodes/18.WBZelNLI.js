import{f as n,a as r,p as xe,c as oe,b as Ze,g as _e,s as E,t as ee}from"../chunks/BiLdCT7w.js";import{o as et}from"../chunks/DBnYf9wq.js";import{i as N,c as a,s as d,r as t,p as Ne,a as Se,t as F,K as be,b as he,f as tt,e as $e,n as O,g as e,d as te}from"../chunks/Dc9Cd6uL.js";import{i as g}from"../chunks/4JrI1xkN.js";import{e as ke,i as rt}from"../chunks/DT6MbhOo.js";import{c as re}from"../chunks/DKQvO5e2.js";import{o as ye,s as at,k as ie,p as st,i as ot}from"../chunks/aor5dgAF.js";import{C as it}from"../chunks/BE8a_9Ge.js";import{C as dt}from"../chunks/D0g6TdLa.js";import{B as ae}from"../chunks/BvtTpaCk.js";import{S as lt}from"../chunks/BPyYV3CN.js";import{S as nt}from"../chunks/CIcjd3kR.js";import{S as vt}from"../chunks/BGGxhLCO.js";import{S as j}from"../chunks/DZFQxItp.js";import{f as ft,m as ut,N as ct}from"../chunks/pY7SPrgy.js";import{U as mt}from"../chunks/CTHXnj9k.js";import{g as pt}from"../chunks/BnkorlfL.js";import{t as gt}from"../chunks/BR_bh9L_.js";import{i as xt,s as we}from"../chunks/BFn_PWCM.js";import{B as se,S as _t}from"../chunks/B2-4It8u.js";import{T as bt}from"../chunks/CbbmCp-X.js";import{T as ht}from"../chunks/CvioT2Jg.js";import{T as $t}from"../chunks/CQYtVDBS.js";var yt=n('<div class="border-border border-t"></div>'),wt=n('<div class="flex items-start gap-4 rounded-md p-3"><!> <div class="min-w-0 flex-1 space-y-2"><!> <!></div> <div class="flex flex-shrink-0 flex-col items-end gap-1"><!></div></div> <!>',1),Nt=n('<div class="space-y-1"></div>');function St(R){var f=Nt();ke(f,4,()=>Array(8),rt,(u,I,h)=>{var c=wt(),b=N(c),$=a(b);j($,{class:"h-8 w-8 flex-shrink-0 rounded-full"});var y=d($,2),l=a(y);j(l,{class:"h-4 w-48"});var s=d(l,2);j(s,{class:"h-3 w-full max-w-md"}),t(y);var m=d(y,2),v=a(m);j(v,{class:"h-3 w-16"}),t(m),t(b);var M=d(b,2);{var x=_=>{var B=yt();r(_,B)};g(M,_=>{h<7&&_(x)})}r(u,c)}),t(f),r(R,f)}var kt=n("<a><!></a>"),Tt=n("<div><!></div>");function Rt(R,f){Ne(f,!1);let u=xe(f,"notification",8),I=xe(f,"isNew",8,!1);function h(l,s,m){const v="hover:bg-muted/50 flex w-full items-start gap-4 rounded-md p-3 text-left transition-all duration-200";return s?`${v} bg-primary/10`:m?v:`${v} ${{HOPIUM:"bg-blue-50/50 dark:bg-blue-950/10",TRANSFER:"bg-green-50/50 dark:bg-green-950/10",RUG_PULL:"bg-red-50/50 dark:bg-red-950/10",SYSTEM:"bg-purple-50/50 dark:bg-purple-950/10"}[l]||"bg-muted/20"}`}xt();var c=oe(),b=N(c);{var $=l=>{var s=kt(),m=a(s);we(m,f,"default",{}),t(s),F(v=>{at(s,"href",u().link),ie(s,1,v)},[()=>ye(h(u().type,I(),u().isRead))],be),r(l,s)},y=l=>{var s=Tt(),m=a(s);we(m,f,"default",{}),t(s),F(v=>ie(s,1,v),[()=>ye(h(u().type,I(),u().isRead))],be),r(l,s)};g(b,l=>{u().link?l($):l(y,!1)})}r(R,c),Se()}var It=n('<div class="py-12 text-center"><div class="bg-muted mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full"><!></div> <h3 class="mb-2 text-lg font-semibold">Please sign in</h3> <p class="text-muted-foreground">You need to be signed in to view notifications</p></div>'),At=n(`<div class="py-12 text-center"><div class="bg-muted mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full"><!></div> <h3 class="mb-2 text-lg font-semibold">No notifications yet</h3> <p class="text-muted-foreground">You'll see updates about your activities here</p></div>`),Pt=n('<div class="bg-primary h-2 w-2 flex-shrink-0 rounded-full"></div>'),Ut=n('<div class="mt-1 flex flex-wrap gap-1"><!> <!></div>'),Ct=n('<div><!></div> <div class="min-w-0 flex-1"><div class="mb-1 flex items-center gap-2"><h3 class="truncate text-sm font-medium"> </h3> <!> <!></div> <p class="text-muted-foreground text-xs leading-relaxed"> </p> <!></div> <div class="flex flex-shrink-0 flex-col items-end justify-center gap-1"><p class="text-muted-foreground text-right text-xs"> </p></div>',1),Et=n("<!> <!>",1),Ot=n('<div class="space-y-1"></div>'),Ft=n('<!> <div class="container mx-auto max-w-4xl p-6"><header class="mb-8"><div class="text-center"><h1 class="mb-2 text-3xl font-bold">Notifications</h1> <p class="text-muted-foreground mb-6">Stay updated with your activities</p></div></header> <!></div>',1);function nr(R,f){Ne(f,!0);const[u,I]=Ze(),h=()=>_e(mt,"$USER_DATA",u),c=()=>_e(ct,"$NOTIFICATIONS",u);let b=he(!0),$=he(tt([]));et(async()=>{if(!h()){pt("/");return}try{await ft();const x=(c()||[]).filter(_=>!_.isRead).map(_=>_.id);$e($,x,!0),await ut()}catch{gt.error("Failed to load notifications")}finally{$e(b,!1)}});function y(x){switch(x){case"HOPIUM":return $t;case"TRANSFER":return ht;case"RUG_PULL":return bt;case"SYSTEM":return _t;default:return se}}function l(x){return{HOPIUM:"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",TRANSFER:"bg-green-100 text-green-600 dark:bg-green-900/50 dark:text-green-400",RUG_PULL:"bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400",SYSTEM:"bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-purple-400"}[x]||"bg-muted text-muted-foreground"}var s=Ft(),m=N(s);vt(m,{title:"Notifications - Rugplay",description:"View your notifications and updates from Rugplay."});var v=d(m,2),M=d(a(v),2);re(M,()=>it,(x,_)=>{_(x,{class:"gap-1",children:(B,Mt)=>{var de=oe(),Te=N(de);re(Te,()=>dt,(Re,Ie)=>{Ie(Re,{children:(Ae,Lt)=>{var le=oe(),Pe=N(le);{var Ue=S=>{var A=It(),L=a(A),D=a(L);se(D,{class:"text-muted-foreground h-8 w-8"}),t(L),O(4),t(A),r(S,A)},Ce=(S,A)=>{{var L=k=>{St(k)},D=(k,Ee)=>{{var Oe=T=>{var P=At(),G=a(P),U=a(G);se(U,{class:"text-muted-foreground h-8 w-8"}),t(G),O(4),t(P),r(T,P)},Fe=T=>{lt(T,{class:"h-[600px]",children:(P,G)=>{var U=Ot();ke(U,7,c,H=>H.id,(H,o,Me)=>{var ne=Et();const Le=te(()=>y(e(o).type)),V=te(()=>e($).includes(e(o).id));var ve=N(ne);Rt(ve,{get notification(){return e(o)},get isNew(){return e(V)},children:(C,Yt)=>{var fe=Ct(),Y=N(fe),Be=a(Y);re(Be,()=>e(Le),(i,p)=>{p(i,{class:"h-4 w-4"})}),t(Y);var q=d(Y,2),K=a(q),z=a(K),De=a(z,!0);t(z);var ue=d(z,2);{var Ge=i=>{var p=Pt();r(i,p)};g(ue,i=>{!e(o).isRead&&!e(V)&&i(Ge)})}var He=d(ue,2);{var Ve=i=>{ae(i,{variant:"default",class:"px-1.5 py-0.5 text-xs",children:(p,Q)=>{O();var W=ee("New");r(p,W)},$$slots:{default:!0}})};g(He,i=>{e(V)&&i(Ve)})}t(K);var J=d(K,2),qe=a(J,!0);t(J);var Ke=d(J,2);{var ze=i=>{var p=Ut(),Q=a(p);{var W=w=>{const X=te(()=>e(o).data.profit>0?"success":"destructive");ae(w,{get variant(){return e(X)},class:"px-1.5 py-0.5 text-xs",children:(pe,Z)=>{O();var ge=ee();F(Xe=>E(ge,`${e(o).data.profit>0?"+":""}${Xe??""}`),[()=>ot(e(o).data.profit)]),r(pe,ge)},$$slots:{default:!0}})};g(Q,w=>{e(o).data.profit!==void 0&&w(W)})}var Qe=d(Q,2);{var We=w=>{ae(w,{variant:"outline",class:"px-1.5 py-0.5 text-xs",children:(X,pe)=>{O();var Z=ee();F(()=>E(Z,`Resolved: ${e(o).data.resolution??""}`)),r(X,Z)},$$slots:{default:!0}})};g(Qe,w=>{e(o).data.resolution&&w(We)})}t(p),r(i,p)};g(Ke,i=>{e(o).data&&i(ze)})}t(q);var ce=d(q,2),me=a(ce),Je=a(me,!0);t(me),t(ce),F((i,p)=>{ie(Y,1,`flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full ${i??""}`),E(De,e(o).title),E(qe,e(o).message),E(Je,p)},[()=>l(e(o).type),()=>st(e(o).createdAt)]),r(C,fe)},$$slots:{default:!0}});var Ye=d(ve,2);{var je=C=>{nt(C,{})};g(Ye,C=>{e(Me)<c().length-1&&C(je)})}r(H,ne)}),t(U),r(P,U)},$$slots:{default:!0}})};g(k,T=>{!c()||c().length===0?T(Oe):T(Fe,!1)},Ee)}};g(S,k=>{e(b)?k(L):k(D,!1)},A)}};g(Pe,S=>{h()?S(Ce,!1):S(Ue)})}r(Ae,le)},$$slots:{default:!0}})}),r(B,de)},$$slots:{default:!0}})}),t(v),r(R,s),Se(),I()}export{nr as component};
