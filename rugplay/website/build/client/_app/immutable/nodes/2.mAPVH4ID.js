import{f as l,a as r,d as Ee,b as Ue,g as ze,s as R,t as ve,c as qe}from"../chunks/BiLdCT7w.js";import{o as He}from"../chunks/DBnYf9wq.js";import{c as o,i as u,s as a,r as t,p as Ie,b as me,f as Ne,t as F,a as Oe,e as Q,g as s,n as ue,d as Ve}from"../chunks/Dc9Cd6uL.js";import{i as pe}from"../chunks/4JrI1xkN.js";import{e as fe,i as ye}from"../chunks/DT6MbhOo.js";import{c as w}from"../chunks/DKQvO5e2.js";import{l as Ge,m as L,h as we,s as We}from"../chunks/aor5dgAF.js";import{C as X}from"../chunks/BE8a_9Ge.js";import{C as Z}from"../chunks/D0g6TdLa.js";import{C as Ce}from"../chunks/CTo_Vl_F.js";import{C as Pe}from"../chunks/b_f0gCBc.js";import{C as Se}from"../chunks/jS9pjJ83.js";import{B as Ye}from"../chunks/BvtTpaCk.js";import{U as Je}from"../chunks/CTHXnj9k.js";import{S as Ke}from"../chunks/BUFrtusw.js";import{C as Le}from"../chunks/KLYSBcZv.js";import{D as Qe}from"../chunks/E71pIGAW.js";import{S as d}from"../chunks/DZFQxItp.js";import{S as Xe}from"../chunks/BGGxhLCO.js";import{t as ke}from"../chunks/BR_bh9L_.js";import{g as Ze}from"../chunks/BnkorlfL.js";var ea=l('<div class="flex items-center gap-2"><!> <!></div> <!>',1),aa=l("<!> <!>",1),ra=l('<div class="flex items-baseline justify-between"><!> <!></div>'),ta=l("<!> <!>",1),sa=l('<div class="flex items-center gap-4 border-b py-4 last:border-b-0"><!> <div class="flex-1"><!> <!></div> <!> <!> <!> <!></div>'),oa=l('<div class="p-6"></div>'),la=l('<div class="container mx-auto"><div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div> <div class="mt-12"><!> <!></div></div>');function na(N){var f=la(),M=o(f);fe(M,4,()=>Array(6),ye,(_,V)=>{X(_,{class:"h-full",children:(B,G)=>{var p=ta(),g=u(p);Pe(g,{children:(v,$)=>{var c=aa(),m=u(c);Se(m,{class:"flex items-center justify-between",children:(h,C)=>{var b=ea(),y=u(b),W=o(y);d(W,{class:"h-6 w-6 rounded-full"});var e=a(W,2);d(e,{class:"h-6 max-w-2xl"}),t(y);var n=a(y,2);d(n,{class:"h-6 w-16"}),r(h,b)},$$slots:{default:!0}});var x=a(m,2);Ce(x,{children:(h,C)=>{d(h,{class:"h-4 w-28"})},$$slots:{default:!0}}),r(v,c)},$$slots:{default:!0}});var E=a(g,2);Z(E,{children:(v,$)=>{var c=ra(),m=o(c);d(m,{class:"h-9 w-24"});var x=a(m,2);d(x,{class:"h-4 w-20"}),t(c),r(v,c)},$$slots:{default:!0}}),r(B,p)},$$slots:{default:!0}})}),t(M);var O=a(M,2),k=o(O);d(k,{class:"mb-4 h-8 w-40"});var T=a(k,2);X(T,{children:(_,V)=>{Z(_,{class:"p-0",children:(B,G)=>{var p=oa();fe(p,4,()=>Array(10),ye,(g,E)=>{var v=sa(),$=o(v);d($,{class:"h-8 w-8 rounded-full"});var c=a($,2),m=o(c);d(m,{class:"h-4 w-24"});var x=a(m,2);d(x,{class:"mt-1 h-3 w-16"}),t(c);var h=a(c,2);d(h,{class:"h-4 w-16"});var C=a(h,2);d(C,{class:"h-4 w-16"});var b=a(C,2);d(b,{class:"h-4 w-20"});var y=a(b,2);d(y,{class:"h-4 w-20"}),t(v),r(g,v)}),t(p),r(B,p)},$$slots:{default:!0}})},$$slots:{default:!0}}),t(O),t(f),r(N,f)}var ia=(N,f)=>Q(f,!s(f)),da=l('You need to <button class="text-primary underline hover:cursor-pointer">sign in</button> to play.',1),ca=l('<div class="flex h-96 items-center justify-center"><div class="text-center"><div class="text-muted-foreground mb-4 text-xl">No coins available</div> <p class="text-muted-foreground text-sm">Be the first to create a coin!</p></div></div>'),va=l('<div class="flex items-center gap-2"><!> <span> </span></div> <!>',1),ma=l("<!> <!>",1),ua=l('<div class="flex items-baseline justify-between"><span class="text-3xl font-bold"> </span> <span class="text-muted-foreground text-sm"> </span></div>'),pa=l("<!> <!>",1),fa=l('<a class="block"><!></a>'),_a=l('<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"></div> <div class="mt-12"><h2 class="mb-4 text-2xl font-bold">Market Overview</h2> <!></div>',1),$a=l('<!> <!> <div class="container mx-auto p-6"><header class="mb-8"><h1 class="mb-2 truncate text-3xl font-bold"> </h1> <p class="text-muted-foreground"><!></p></header> <!></div>',1);function Ha(N,f){Ie(f,!0);const[M,O]=Ue(),k=()=>ze(Je,"$USER_DATA",M);let T=me(!1),_=me(Ne([])),V=me(!0);He(async()=>{try{const e=await fetch("/api/coins/top");if(e.ok){const n=await e.json();Q(_,n.coins,!0)}else ke.error("Failed to load coins")}catch(e){console.error("Failed to fetch coins:",e),ke.error("Failed to load coins")}finally{Q(V,!1)}});const B=[{key:"name",label:"Name",class:"font-medium",render:(e,n)=>({component:"coin",icon:n.icon,symbol:n.symbol,name:n.name,size:6})},{key:"price",label:"Price",render:e=>`$${we(e)}`},{key:"change24h",label:"24h Change",render:e=>({component:"badge",variant:e>=0?"success":"destructive",text:`${e>=0?"+":""}${e.toFixed(2)}%`})},{key:"marketCap",label:"Market Cap",render:e=>L(e)},{key:"volume24h",label:"Volume (24h)",render:e=>L(e)}];var G=$a(),p=u(G);Xe(p,{title:"Rugplay",description:"A realistic crypto trading simulator that lets you experience the risks and mechanics of decentralized exchanges without real financial consequences. Create coins, trade with liquidity pools, and learn about 'rug pulls' in a... relatively safe environment :)",keywords:"crypto simulation game, trading practice game, rug pull simulation, virtual cryptocurrency game"});var g=a(p,2);Ke(g,{get open(){return s(T)},set open(e){Q(T,e,!0)}});var E=a(g,2),v=o(E),$=o(v),c=o($,!0);t($);var m=a($,2),x=o(m);{var h=e=>{var n=ve("Here's the market overview for today.");r(e,n)},C=e=>{var n=da(),ee=a(u(n));ee.__click=[ia,T],ue(),r(e,n)};pe(x,e=>{k()?e(h):e(C,!1)})}t(m),t(v);var b=a(v,2);{var y=e=>{na(e)},W=(e,n)=>{{var ee=P=>{var Y=ca();r(P,Y)},Ae=P=>{var Y=_a(),ae=u(Y);fe(ae,21,()=>s(_).slice(0,6),U=>U.symbol,(U,i)=>{var S=fa(),$e=o(S);w($e,()=>X,(J,re)=>{re(J,{class:"hover:bg-card/50 h-full transition-all hover:shadow-md",children:(te,he)=>{var K=pa(),se=u(K);w(se,()=>Pe,(le,ne)=>{ne(le,{children:(ie,De)=>{var A=ma(),j=u(A);w(j,()=>Se,(D,z)=>{z(D,{class:"flex items-center justify-between",children:(q,ce)=>{var H=va(),I=u(H),ge=o(I);Le(ge,{get icon(){return s(i).icon},get symbol(){return s(i).symbol},get name(){return s(i).name},size:6});var xe=a(ge,2),Re=o(xe);t(xe),t(I);var Fe=a(I,2);const Me=Ve(()=>s(i).change24h>=0?"success":"destructive");Ye(Fe,{get variant(){return s(Me)},class:"ml-2",children:(Te,ha)=>{ue();var be=ve();F(Be=>R(be,`${s(i).change24h>=0?"+":""}${Be??""}%`),[()=>s(i).change24h.toFixed(2)]),r(Te,be)},$$slots:{default:!0}}),F(()=>R(Re,`${s(i).name??""} (*${s(i).symbol??""})`)),r(q,H)},$$slots:{default:!0}})});var de=a(j,2);w(de,()=>Ce,(D,z)=>{z(D,{children:(q,ce)=>{ue();var H=ve();F(I=>R(H,`Market Cap: ${I??""}`),[()=>L(s(i).marketCap)]),r(q,H)},$$slots:{default:!0}})}),r(ie,A)},$$slots:{default:!0}})});var oe=a(se,2);w(oe,()=>Z,(le,ne)=>{ne(le,{children:(ie,De)=>{var A=ua(),j=o(A),de=o(j);t(j);var D=a(j,2),z=o(D);t(D),t(A),F((q,ce)=>{R(de,`$${q??""}`),R(z,`24h Vol: ${ce??""}`)},[()=>we(s(i).price),()=>L(s(i).volume24h)]),r(ie,A)},$$slots:{default:!0}})}),r(te,K)},$$slots:{default:!0}})}),t(S),F(()=>We(S,"href",`/coin/${s(i).symbol}`)),r(U,S)}),t(ae);var _e=a(ae,2),je=a(o(_e),2);w(je,()=>X,(U,i)=>{i(U,{children:(S,$e)=>{var J=qe(),re=u(J);w(re,()=>Z,(te,he)=>{he(te,{children:(K,se)=>{Qe(K,{columns:B,get data(){return s(_)},onRowClick:oe=>Ze(`/coin/${oe.symbol}`)})},$$slots:{default:!0}})}),r(S,J)},$$slots:{default:!0}})}),t(_e),r(P,Y)};pe(e,P=>{s(_).length===0?P(ee):P(Ae,!1)},n)}};pe(b,e=>{s(V)?e(y):e(W,!1)})}t(E),F(e=>R(c,e),[()=>{var e;return k()?Ge((e=k())==null?void 0:e.name):"Welcome to Rugplay!"}]),r(N,G),Oe(),O()}Ee(["click"]);export{Ha as component};
