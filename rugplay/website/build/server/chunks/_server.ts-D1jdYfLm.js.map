{"version":3,"file":"_server.ts-D1jdYfLm.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/keys/_id_/_server.ts.js"],"sourcesContent":["import { e as error, j as json } from \"../../../../../chunks/index.js\";\nimport { a as auth } from \"../../../../../chunks/auth.js\";\nconst GET = async (event) => {\n  const session = await auth.api.getSession({\n    headers: event.request.headers\n  });\n  if (!session?.user) {\n    throw error(401, \"Not authenticated\");\n  }\n  const keyId = event.params.id;\n  try {\n    const key = await auth.api.getApiKey({\n      query: { id: keyId },\n      headers: event.request.headers\n    });\n    if (!key) {\n      throw error(404, \"API key not found\");\n    }\n    return json(key);\n  } catch (err) {\n    throw error(404, \"API key not found\");\n  }\n};\nconst DELETE = async (event) => {\n  const session = await auth.api.getSession({\n    headers: event.request.headers\n  });\n  if (!session?.user) {\n    throw error(401, \"Not authenticated\");\n  }\n  const keyId = event.params.id;\n  await auth.api.deleteApiKey({\n    body: { keyId },\n    headers: event.request.headers\n  });\n  return json({ success: true });\n};\nexport {\n  DELETE,\n  GET\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAEK,MAAC,GAAG,GAAG,OAAO,KAAK,KAAK;AAC7B,EAAE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;AAC5C,IAAI,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC;AAC3B,GAAG,CAAC;AACJ,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;AACtB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC;AACzC;AACA,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE;AAC/B,EAAE,IAAI;AACN,IAAI,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC;AACzC,MAAM,KAAK,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE;AAC1B,MAAM,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC;AAC7B,KAAK,CAAC;AACN,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,MAAM,MAAM,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC;AAC3C;AACA,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC;AACpB,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC;AACzC;AACA;AACK,MAAC,MAAM,GAAG,OAAO,KAAK,KAAK;AAChC,EAAE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;AAC5C,IAAI,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC;AAC3B,GAAG,CAAC;AACJ,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;AACtB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,mBAAmB,CAAC;AACzC;AACA,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE;AAC/B,EAAE,MAAM,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;AAC9B,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE;AACnB,IAAI,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC;AAC3B,GAAG,CAAC;AACJ,EAAE,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAChC;;;;"}