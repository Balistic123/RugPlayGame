{"version":3,"file":"_server.ts-Xd89Pjh8.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/coins/top/_server.ts.js"],"sourcesContent":["import { j as json } from \"../../../../../chunks/index.js\";\nimport { d as db, c as coin } from \"../../../../../chunks/index4.js\";\nimport { eq, desc } from \"drizzle-orm\";\nasync function GET() {\n  try {\n    const coins = await db.select({\n      symbol: coin.symbol,\n      name: coin.name,\n      icon: coin.icon,\n      currentPrice: coin.currentPrice,\n      change24h: coin.change24h,\n      // Read directly from DB\n      marketCap: coin.marketCap,\n      volume24h: coin.volume24h\n      // Read directly from DB\n    }).from(coin).where(eq(coin.isListed, true)).orderBy(desc(coin.marketCap)).limit(50);\n    const formattedCoins = coins.map((c) => ({\n      symbol: c.symbol,\n      name: c.name,\n      icon: c.icon,\n      price: Number(c.currentPrice),\n      change24h: Number(c.change24h),\n      marketCap: Number(c.marketCap),\n      volume24h: Number(c.volume24h)\n    }));\n    return json({ coins: formattedCoins });\n  } catch (e) {\n    console.error(\"Error fetching top coins:\", e);\n    return json({ coins: [] });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;;;AAGA,eAAe,GAAG,GAAG;AACrB,EAAE,IAAI;AACN,IAAI,MAAM,KAAK,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC;AAClC,MAAM,MAAM,EAAE,IAAI,CAAC,MAAM;AACzB,MAAM,IAAI,EAAE,IAAI,CAAC,IAAI;AACrB,MAAM,IAAI,EAAE,IAAI,CAAC,IAAI;AACrB,MAAM,YAAY,EAAE,IAAI,CAAC,YAAY;AACrC,MAAM,SAAS,EAAE,IAAI,CAAC,SAAS;AAC/B;AACA,MAAM,SAAS,EAAE,IAAI,CAAC,SAAS;AAC/B,MAAM,SAAS,EAAE,IAAI,CAAC;AACtB;AACA,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC;AACxF,IAAI,MAAM,cAAc,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;AAC7C,MAAM,MAAM,EAAE,CAAC,CAAC,MAAM;AACtB,MAAM,IAAI,EAAE,CAAC,CAAC,IAAI;AAClB,MAAM,IAAI,EAAE,CAAC,CAAC,IAAI;AAClB,MAAM,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC;AACnC,MAAM,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC;AACpC,MAAM,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC;AACpC,MAAM,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,SAAS;AACnC,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,cAAc,EAAE,CAAC;AAC1C,GAAG,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE,CAAC,CAAC;AACjD,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;AAC9B;AACA;;;;"}